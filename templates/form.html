<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Solicitud de crédito</title>
    <style>
      body {
        font-family: system-ui, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f4f4f4;
      }

      header {
        background-color: #ffffff;
        padding: 10px 20px;  /* Ajustamos padding para que el header sea pequeño */
        display: flex;
        align-items: center;
        justify-content: flex-start;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        width: 100%;
        height: 100px;  /* Establecemos una altura fija para el header */
        overflow: hidden;  /* Para que la imagen no sobresalga */
      }

      header img {
        width: auto;  /* El logo tendrá un tamaño propio en base a su proporción */
        max-height: 350px;  /* Establecemos un máximo de altura para el logo */
        margin-right: 250px; /* Espacio entre la imagen y el contenido */
      }

      h2 {
        color: #333;
        font-size: 1.5rem;
        text-align: left;
        width: 100%;
        margin: 0;
        color: #E60000; /* Rojo para el título, coincide con el logo */
      }

      form {
        width: 100%;
        max-width: 1200px; /* Limita el ancho máximo del formulario */
        margin: 2rem auto;
        background: #fff;
        padding: 2rem;
        border-radius: 8px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      }

      fieldset {
        margin-bottom: 1.2rem;
        padding: 1rem;
        border: 1px solid #ccc;
        border-radius: 8px;
      }

      legend {
        font-weight: 700;
        margin-bottom: .4rem;
        text-transform: uppercase;
        color: #333;
      }

      label {
        display: grid;
        grid-template-columns: 260px 1fr;
        gap: .8rem;
        align-items: center;
        margin: .35rem 0;
      }

      input, select {
        padding: .5rem;
        border-radius: 5px;
        border: 1px solid #ccc;
        font-size: 1rem;
        width: 100%;
        background-color: #f1f1f1;  /* Fondo suave en inputs */
      }

      input[type="number"] {
        width: auto;
      }

      button {
        background-color: #E60000;  /* Rojo, como en el logo */
        color: #fff;
        border: none;
        padding: 0.75rem 1.5rem;
        border-radius: 5px;
        font-size: 1rem;
        cursor: pointer;
        width: 100%;
        margin-top: 1rem;
      }

      button:hover {
        background-color: #cc0000;  /* Rojo más oscuro en hover */
      }

            button:active {
        background-color: #990000;  /* Rojo más oscuro al hacer clic */
      }

      input[type="text"],
      input[type="email"],
      input:not([type]) {
        width: 98%;
      }
      .modal {
        display: none;
        position: fixed;
        top: 0; left: 0; right: 0; bottom: 0;
        background-color: rgba(0,0,0,0.5);
        justify-content: center;
        align-items: center;
        z-index: 9999;
      }

      .modal-content {
        background-color: #fff;
        max-width: 800px;
        max-height: 90vh;
        overflow-y: auto;
        padding: 2rem;
        border-radius: 10px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        text-align: justify;
      }

      .modal-buttons {
        display: flex;
        justify-content: flex-end;
        gap: 10px;
        margin-top: 1rem;
      }

      .modal-buttons button {
        padding: 0.5rem 1rem;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        background-color: #E60000;
        color: white;
        font-weight: bold;
      }

      .modal-buttons button:disabled {
        background-color: #ccc;
        cursor: not-allowed;
      }

    </style>


    </style>
  </head>
  <body>
    <header>
      <img src="static/BLANCO LOGO SEGVEH CONCESIONARIO 1080X566 .jpg" alt="Logo SEGVEH">
      <h2>Solicitud de crédito - Persona Natural</h2>
    </header>

    <form action="/generar" method="post" autocomplete="on" enctype="multipart/form-data">
      <!-- 1) Datos de radicación -->
      <fieldset>
        <legend>Datos de radicación</legend>
        <label>Fecha de radicación (dd/mm/aaaa) <input name="fecha_rad" placeholder="dd/mm/aaaa" required></label>
        <label>Línea de financiación
          <select name="linea_financiacion" required>
            <option value="">-- Seleccione --</option>
            <option>Vehiculo</option><option>Motos</option><option>Poliza</option><option>Otros</option>
          </select>
        </label>
        <label>Tipo de solicitante
          <select name="tipo_solicitante" required>
            <option value="">-- Seleccione --</option>
            <option>Deudor</option><option>Codeudor</option>
          </select>
        </label>
      </fieldset>

      <!-- 2) Datos del bien / vehículo -->
      <fieldset>
        <legend>Datos del bien / vehículo</legend>
        <label>Tipo de vehículo
          <select name="tipo_vehiculo" required>
            <option value="">-- Seleccione --</option>
            <option>Nuevo</option><option>Usado</option>
          </select>
        </label>
        <label>Plazo (meses)
          <select name="plazo" required>
            <option value="">-- Seleccione --</option>
            <option value="18">18</option>
            <option value="24">24</option>
            <option value="36">36</option>
            <option value="48">48</option>
            <option value="60">60</option>
            <option value="72">72</option>
          </select>
        </label>
        <label>Marca <input name="marca" required></label>
        <label>Línea <input name="linea" required></label>
        <label>Tipo de servicio <input name="tipo_servicio" required></label>
        <label>Modelo <input name="modelo" required></label>
        <label>Vr Comercial <input type="number" step="0.01" name="vr_comercial" required></label>
        <label>Vr Financiación <input type="number" step="0.01" name="vr_financiacion" required></label>
      </fieldset>

      <!-- 3) Información personal -->
      <fieldset>
        <legend>Información personal</legend>
        <label>Apellidos y nombres <input name="apellidos_nombres" required></label>
        <label>Sexo
          <select name="sexo" required><option value="">-- Seleccione --</option><option>F</option><option>M</option></select>
        </label>
        <label>Tipo de ID
          <select name="tipo_id" required><option value="">-- Seleccione --</option><option>CC</option><option>CE</option></select>
        </label>
        <label>Número de ID <input name="numero_id" required></label>
        <label>Fecha expedición (dd/mm/aaaa) <input name="fecha_expedicion" placeholder="dd/mm/aaaa" required></label>
        <label>Ciudad expedición <input name="ciudad_expedicion" required></label>
        <label>Fecha de nacimiento (dd/mm/aaaa) <input name="fecha_nac" placeholder="dd/mm/aaaa" required></label>
        <label>Ciudad de nacimiento <input name="ciudad_nac" required></label>
        <label>Nacionalidad <input name="nacionalidad" required></label>
        <label>Estado civil
          <select name="estado_civil" required>
            <option value="">-- Seleccione --</option>
            <option>Soltero(a)</option>
            <option>Casado(a)</option>
            <option>Unión libre</option>
            <option>Separado(a)</option>
            <option>Viudo(a)</option>
          </select>
        </label>
        <label>Nivel de estudios
          <select name="nivel_estudios" required>
            <option value="">-- Seleccione --</option>
            <option>Básica primaria</option>
            <option>Básica secundaria</option>
            <option>Técnico / Tecnólogo</option>
            <option>Universitario</option>
            <option>Posgrado</option>
          </select>
        </label>
        <label>Tipo de vivienda <input name="tipo_vivienda" required></label>
        <label>Personas a cargo <input type="number" name="personas_a_cargo" min="0" required></label>
        <label>Dirección <input name="direccion" required></label>
        <label>Ciudad <input name="ciudad" required></label>
        <label>Celular <input name="celular" required></label>
        <label>Correo electrónico <input type="email" name="email" required></label>
      </fieldset>

      <!-- 4) Actividad económica -->
      <fieldset>
        <legend>Actividad económica</legend>
        <label>Actividad económica
          <select name="actividad_economica" required>
            <option value="">-- Seleccione --</option>
            <option>Empleado</option><option>Independiente</option><option>Rentista</option>
            <option>Pensionado</option><option>Transportador</option><option>Profesional independiente</option>
            <option>Otro</option>
          </select>
        </label>
        <label>Empresa donde trabaja / Nombre empresa <input name="empresa"></label>
        <label>Dirección trabajo <input name="direccion_trabajo"></label>
        <label>Ciudad trabajo <input name="ciudad_trabajo" required></label>
        <label>NIT trabajo <input name="nit_trabajo"></label>
        <label>Teléfono trabajo <input name="telefono_trabajo"></label>
        <label>Ingresos mensuales <input type="number" step="0.01" name="ingresos_mensuales" required></label>
        <label>Antigüedad (meses) <input type="number" name="antiguedad" min="0" required></label>
        <label>Cargo <input name="cargo"></label>
        <label>Tipo de contrato <input name="tipo_contrato"></label>
        <label>Descripción otros ingresos <input name="otros_ingresos" required></label>
        <label>¿Maneja recursos públicos (PEP)?
          <select name="pep" required><option value="">-- Seleccione --</option><option>Si</option><option>No</option></select>
        </label>
      </fieldset>

      <!-- 5) Información del cónyuge -->
      <fieldset>
        <legend>Información del cónyuge</legend>
        <label>Apellidos y nombres <input name="conyuge_nombre"></label>
        <label>Empresa donde trabaja<input name="empresa_trabajo_alt"></label>
        <label>Tipo de ID
          <select name="conyuge_tipo_id"><option value="">-- Seleccione --</option><option>CC</option><option>CE</option></select>
        </label>
        <label>Número de ID <input name="conyuge_numero_id"></label>
        <label>Celular <input name="conyuge_celular"></label>
        <label>Correo electrónico cónyuge <input type="email" name="email_conyuge"></label>
      </fieldset>

      <!-- 6) Ingresos y egresos -->
      <fieldset>
        <legend>Ingresos y egresos</legend>
        <label>Ingreso base <input type="number" step="0.01" name="ingreso_base" required></label>
        <label>Comisiones <input type="number" step="0.01" name="comisiones"></label>
        <label>Otros ingresos (valor) <input type="number" step="0.01" name="otros_ingresos_valor"></label>
        <label>Total ingresos <input type="number" step="0.01" name="total_ingresos" required></label>
        <label>Gastos básicos <input type="number" step="0.01" name="gastos_basicos" required></label>
        <label>Préstamos bancarios <input type="number" step="0.01" name="prestamos_bancarios"></label>
        <label>Otros gastos (valor) <input type="number" step="0.01" name="otros_gastos"></label>
        <label>Total egresos <input type="number" step="0.01" name="total_egresos" required></label>
        <label>Detalle otros gastos <input name="detalle_otros_gastos" required></label>
      </fieldset>

      <!-- 7) Bien / Servicio -->
      <fieldset>
        <legend>Bien / Servicio</legend>
        <label>Tipo de bien <input name="tipo_bien" required></label>
        <label>Dirección o tipo de servicio <input name="direccion_servicio" required></label>
        <label>Vr Comercial (bien / servicio) <input type="number" step="0.01" name="vr_comercial_bien" required></label>
      </fieldset>

      <!-- 8) Respaldo patrimonial -->
      <fieldset>
        <legend>Respaldo patrimonial</legend>
        <label>Tipo bien (respaldo 2) <input name="tipo_bien_respaldo2"></label>
        <label>Tipo servicio (respaldo 2) <input name="tipo_servicio_respaldo2"></label>
        <label>Vr comercial (respaldo 2) <input type="number" step="0.01" name="vr_comercial_respaldo2"></label>
      </fieldset>

      <!-- 9) Referencias -->
      <fieldset>
        <legend>Referencia personal</legend>
        <label>Nombre <input name="ref_personal" required></label>
        <label>Celular <input name="ref_personal_cel" required></label>
        <label>Parentesco <input name="ref_personal_parentesco" required></label>
      </fieldset>

      <fieldset>
        <legend>Referencia familiar</legend>
        <label>Nombre <input name="ref_familiar" required></label>
        <label>Celular <input name="ref_familiar_cel" required></label>
        <label>Parentesco <input name="ref_familiar_parentesco" required></label>
      </fieldset>

      <fieldset>
        <legend>Referencia comercial</legend>
        <label>Nombre <input name="ref_comercial" required></label>
        <label>Celular <input name="ref_comercial_cel" required></label>
        <label>NIT <input name="nit_ref1" required></label>
      </fieldset>

      <fieldset>
        <legend>Referencia comercial 2</legend>
        <label>Nombre <input name="ref_comercial2"></label>
        <label>Celular <input name="ref_comercial2_cel"></label>
        <label>NIT <input name="nit_ref2"></label>
      </fieldset>

      <!-- 10) Firma -->
      <fieldset>
        <legend>Firma</legend>
        <label>Adjuntar imagen de la firma (PNG / JPEG)
          <input type="file" name="firma_img" accept="image/png,image/jpeg" required>
        </label>
      </fieldset>

      <button type="submit">Generar solicitud</button>
      <!-- MODAL DE CONFIRMACIÓN -->
      <div id="modalConfirmacion" class="modal">
        <div class="modal-content">
          <h3>Autorización y declaración</h3>
          <p>
            Declaro que la información aquí suministrada es verídica y autorizo expresa, voluntaria e irrevocable a 
            <strong>SegVeh vehículos</strong> o a quien represente sus derechos, a la entidad que esta compañía delegue o a su cesionario 
            o a quien en el futuro haga sus veces como titular del crédito o servicio solicitado, para:
            <br><br>
            a) Consultar, procesar y solicitar, en cualquier tiempo, en Datacrédito y/o Cifin o en cualquier otra base de datos manejada 
            por un operador, toda la información relevante para conocer mi desempeño como deudor, mi capacidad de pago, la viabilidad 
            para entablar o mantener una relación contractual, o para cualquier otra finalidad, incluyendo sin limitarse la realización 
            de campañas de mercadeo, ofrecimiento de productos y publicidad en general.  
            <br><br>
            b) Reportar y divulgar a las centrales de información Datacrédito y/o Cifin y de entidades financieras en Colombia, o a 
            cualquier otra base de datos manejada por un operador de datos, tratados o sin tratar, mi información personal, comercial 
            y financiera, así como la información referente a mi comportamiento comercial y/o crediticio respecto a mi cumplimiento o 
            incumplimiento de mis obligaciones crediticias, mis deberes legales de contenido patrimonial, mis datos de ubicación y 
            contacto, sus solicitudes de crédito así como otros atinentes a mis relaciones comerciales, financieras y socioeconómicas.
            <br><br>
            Autorizo a <strong>SegVeh vehículos</strong> para el tratamiento de mis datos personales conforme a lo dispuesto por la ley.
          </p>

          <label style="display:flex; align-items:center; gap:10px; margin-top:10px;">
            <input type="checkbox" id="aceptoTerminos"> Acepto los términos y autorizo el tratamiento de mis datos.
          </label>

          <div class="modal-buttons">
            <button id="btnGenerar" disabled>Generar solicitud</button>
            <button id="btnCancelar" style="background-color:#aaa;">Cancelar</button>
          </div>
        </div>
      </div>

      <script>
        const form = document.querySelector('form');
        const modal = document.getElementById('modalConfirmacion');
        const btnGenerar = document.getElementById('btnGenerar');
        const btnCancelar = document.getElementById('btnCancelar');
        const check = document.getElementById('aceptoTerminos');

        // Interceptar el envío del formulario
        form.addEventListener('submit', function (e) {
          e.preventDefault(); // evita envío inmediato
          modal.style.display = 'flex'; // muestra el popup
        });

        // Habilitar botón de generar cuando se marca el check
        check.addEventListener('change', () => {
          btnGenerar.disabled = !check.checked;
        });

        // Enviar formulario real si acepta
        btnGenerar.addEventListener('click', () => {
          modal.style.display = 'none';
          form.submit(); // ahora sí se envía
        });

        // Cerrar el modal al presionar "Cancelar"
        btnCancelar.addEventListener('click', (e) => {
          e.preventDefault();
          modal.style.display = 'none';
        });

        // Cerrar el modal al hacer clic fuera del cuadro
        window.addEventListener('click', (event) => {
          if (event.target === modal) {
            modal.style.display = 'none';
          }
        });
      </script>
    </form>
  </body>
</html>
